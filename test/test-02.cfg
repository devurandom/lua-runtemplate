local union = require "tablexx".union

return {
  _preprocess = function(config, args)
    for hostname, host in pairs(config.hosts) do
      host.hostname = hostname
    end
    local hostname = assert(args[1])
    return union(config, config.hosts[hostname])
  end,
  hosts = {
    orange = {
      ip = "10.0.0.1",
    },  
    blue = {
      ip = "10.0.0.2",
    },
  },
}
